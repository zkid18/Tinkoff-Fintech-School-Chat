# Лабораторная работа №0

Задача: разработать приложение способное запросить и отобразить для выбранной пользователем валюты курс ее обмена на другую, так же выбранную пользователем валюту.

## Описание проделанной работы

В ходе работ по совершенствованию текущего проекта были выделены три приоритетные задачи:
* Устранить баг с "прыгающими пикерами"
* Формировать доступные валюты по запросу и обработать кейс работы в оффлайне
* Разработать интерфейс приложения

### Устранение "Прыгающих пикеров"

Как я понял, баг происходит из-за того, что высота лейбла динамично изменяется, в зависимости от текста. Соответственно, когда происходит очистка лейбла при переходе к новой валюте, лейбл сужается, а при появлении значения - увеличивается. Мне удалось устранить эту проблему путем введения Heght constrains у лейбла. Результат можно увидеть в Old Exchange.


### Разработка интерфейса приложения

![Скриншот экрана](/Screenshots/exchange_screenshot.jpg)

Прежде чем приходить к визуальному оформлению, я подумал для кого создается данное приложение. Среди заинтересованных в курсе валют целевой аудитории могут быть валютные трейдеры, путешественники или просто обыватели, желающие быть в курсе дел. Разработка продукта для трейдеров требует слишком детальной проработке, на которую у меня не было времени, поэтому я решился сфокусироваться по большей части на второй аудитории.

Для путешественников важно не только знать курс валют на сегодняшний день, но и где можно выгодно ее поменять. Для этого я добавил на экран лейбл с текущей датой и карту, на которую захардокдил некоторые точки обменных пунктов. 

Также, в связи с ограниченностью свободного места на экране, делать два пикера не было целесообразно, поэтому я начал искать возможность для горизонтального скролла валют. Мной была найдена и успешно реализована в проекте библиотека [AKPickerView-Swift](https://github.com/Akkyie/AKPickerView-Swift)

Безусловно, интерфейс еще выглядет "сырым", но по сравнению с начальным экраном, он уже больше говорит о том, для кого создается этот продукт

### Формирование доступных валют по запросу и обработка кейса работы при недоступном интернет соединении

Написание парсинга не было сложной задачей, куда больше трудностей доставило отображение результатов в пикерах при загрузке экрана. Для этого я возложил логику парсинга на специальной контроллер, который служит Splash Screen и обновляю данные о доступных валютах в соответствующем классе. Не берусь утверждать, что данное решение оптимальное, но за неимением серьезного опыта разработки клиент-серверных приложений, это решение показалось мне целесообразным. По крайней мере, это работает.

Обработку кейса при отсутствии интернета я также реализовал в FetchDataViewController. За проверку соединения отвечает класс Reachability, а именно метод isConnectedToNetwork(). Сейчас при отсутствии интернета, приложение не пускает дальше Splash Screen.

## Что можно было улучшить

В условиях ограниченности времени было принято решение сконцентрироваться на тех вещах, которые могут показать рабочий прототип. Однако есть несколько важных задач, которые следовало бы выполнить как можно раньше: 

* Выбор архитектурного паттерна. Скорее всего выбор пал бы на VIPER или MVVM
* Кэширование данных. Изначально я хотел обрабатывать оффлайн кейс за счет кеширования с использования Realm, но впоследствии решил, что эта задача куда более сложна, чем кажется на первый взгляд. Скопировать названия валют немного нецелесообразно, так как для полноценной работы требовалось бы кэшировать и информации о курсах, а для этого надо проходится по всем валютам. В условиях ограниченности времени было принято решение отказаться на данном этапе от этой опции


## Authors

* **Daniil Chepenko**  


## License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details

